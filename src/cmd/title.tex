% Template:     Template Tesis LaTeX
% Documento:    Funciones para insertar títulos
% Versión:      2.0.0 (19/06/2020)
% Codificación: UTF-8
%
% Autor: Pablo Pizarro R.
%        Facultad de Ciencias Físicas y Matemáticas
%        Universidad de Chile
%        pablo@ppizarror.com
%
% Sitio web:    [https://latex.ppizarror.com/tesis]
% Licencia MIT: [https://opensource.org/licenses/MIT]

\def\coreintializetitlenumbering {
	\ifthenelse{\equal{\GLOBALchapternumenabled}{false}}{
		\ifthenelse{\equal{\GLOBALsectionalph}{true}}{
			\renewcommand{\thesection}{\Alph{section}}
		}{
			\renewcommand{\thesection}{\arabic{section}}
		}
	}{
		\ifthenelse{\equal{\GLOBALsectionalph}{true}}{
			\renewcommand{\thesection}{\thechapter.\Alph{section}}
		}{
			\renewcommand{\thesection}{\thechapter.\arabic{section}}
		}
	}
	\ifthenelse{\equal{\GLOBALsectionanumenabled}{true}}{
		\renewcommand{\thesubsection}{\arabic{subsection}}
	}{
		\renewcommand{\thesubsection}{\thesection.\arabic{subsection}}
	}
	\ifthenelse{\equal{\GLOBALsubsectionanumenabled}{true}}{
		\renewcommand{\thesubsubsection}{\arabic{subsubsection}}
	}{
		\renewcommand{\thesubsubsection}{\thesubsection.\arabic{subsubsection}}
	}
	\ifthenelse{\equal{\GLOBALsubsectionanumenabled}{true}}{
		\ifthenelse{\equal{\showdotaftersnum}{true}}{
			\renewcommand{\thesubsubsubsection}{\arabic{subsubsection}.\arabic{subsubsubsection}.}
		}{
			\renewcommand{\thesubsubsubsection}{\arabic{subsubsection}.\arabic{subsubsubsection}}
		}
	}{
		\ifthenelse{\equal{\showdotaftersnum}{true}}{
			\renewcommand{\thesubsubsubsection}{\thesubsubsection.\arabic{subsubsubsection}.}
		}{
			\renewcommand{\thesubsubsubsection}{\thesubsubsection.\arabic{subsubsubsection}}
		}
	}
}
\pretocmd{\chapter}{
\ifthenelse{\equal{\showsectioncaptioncode}{chap}}{
		\addtocounter{templateListings}{\value{lstlisting}}
		\setcounter{lstlisting}{0}
	}{}
\ifthenelse{\equal{\showsectioncaptioneqn}{chap}}{
		\addtocounter{templateEquations}{\value{equation}}
		\setcounter{equation}{0}
	}{}
\ifthenelse{\equal{\equationrestart}{chap}}{
		\addtocounter{templateEquations}{\value{equation}}
		\setcounter{equation}{0}
	}{}
\ifthenelse{\equal{\showsectioncaptionfig}{chap}}{
		\addtocounter{templateFigures}{\value{figure}}
		\setcounter{figure}{0}
	}{}
\ifthenelse{\equal{\showsectioncaptiontab}{chap}}{
		\addtocounter{templateTables}{\value{table}}
		\setcounter{table}{0}
	}{}
	\def\GLOBALchapternumenabled{true}
	\coreintializetitlenumbering
}{}{}
\pretocmd{\section}{
\ifthenelse{\equal{\showsectioncaptioncode}{sec}}{
		\addtocounter{templateListings}{\value{lstlisting}}
		\setcounter{lstlisting}{0}
	}{}
\ifthenelse{\equal{\showsectioncaptioneqn}{sec}}{
		\addtocounter{templateEquations}{\value{equation}}
		\setcounter{equation}{0}
	}{}
\ifthenelse{\equal{\equationrestart}{sec}}{
		\addtocounter{templateEquations}{\value{equation}}
		\setcounter{equation}{0}
	}{}
\ifthenelse{\equal{\showsectioncaptionfig}{sec}}{
		\addtocounter{templateFigures}{\value{figure}}
		\setcounter{figure}{0}
	}{}
\ifthenelse{\equal{\showsectioncaptiontab}{sec}}{
		\addtocounter{templateTables}{\value{table}}
		\setcounter{table}{0}
	}{}
	\def\GLOBALsectionanumenabled{false}
	\def\GLOBALsubsectionanumenabled{false}
	\coreintializetitlenumbering
}{}{}
\pretocmd{\subsection}{
\ifthenelse{\equal{\showsectioncaptioncode}{ssec}}{
		\addtocounter{templateListings}{\value{lstlisting}}
		\setcounter{lstlisting}{0}
	}{}
\ifthenelse{\equal{\showsectioncaptioneqn}{ssec}}{
		\addtocounter{templateEquations}{\value{equation}}
		\setcounter{equation}{0}
	}{}
\ifthenelse{\equal{\equationrestart}{ssec}}{
		\addtocounter{templateEquations}{\value{equation}}
		\setcounter{equation}{0}
	}{}
\ifthenelse{\equal{\showsectioncaptionfig}{ssec}}{
		\addtocounter{templateFigures}{\value{figure}}
		\setcounter{figure}{0}
	}{}
\ifthenelse{\equal{\showsectioncaptiontab}{ssec}}{
		\addtocounter{templateTables}{\value{table}}
		\setcounter{table}{0}
	}{}
	\def\GLOBALsubsectionanumenabled{false}
	\coreintializetitlenumbering
}{}{}
\pretocmd{\subsubsection}{
\ifthenelse{\equal{\showsectioncaptioncode}{sssec}}{
		\addtocounter{templateListings}{\value{lstlisting}}
		\setcounter{lstlisting}{0}
	}{}
\ifthenelse{\equal{\showsectioncaptioneqn}{sssec}}{
		\addtocounter{templateEquations}{\value{equation}}
		\setcounter{equation}{0}
	}{}
\ifthenelse{\equal{\equationrestart}{sssec}}{
		\addtocounter{templateEquations}{\value{equation}}
		\setcounter{equation}{0}
	}{}
\ifthenelse{\equal{\showsectioncaptionfig}{sssec}}{
		\addtocounter{templateFigures}{\value{figure}}
		\setcounter{figure}{0}
	}{}
\ifthenelse{\equal{\showsectioncaptiontab}{sssec}}{
		\addtocounter{templateTables}{\value{table}}
		\setcounter{table}{0}
	}{}
	\coreintializetitlenumbering
}{}{}
\pretocmd{\subsubsubsection}{
\ifthenelse{\equal{\showsectioncaptioncode}{ssssec}}{
		\addtocounter{templateListings}{\value{lstlisting}}
		\setcounter{lstlisting}{0}
	}{}
\ifthenelse{\equal{\showsectioncaptioneqn}{ssssec}}{
		\addtocounter{templateEquations}{\value{equation}}
		\setcounter{equation}{0}
	}{}
\ifthenelse{\equal{\equationrestart}{ssssec}}{
		\addtocounter{templateEquations}{\value{equation}}
		\setcounter{equation}{0}
	}{}
\ifthenelse{\equal{\showsectioncaptionfig}{ssssec}}{
		\addtocounter{templateFigures}{\value{figure}}
		\setcounter{figure}{0}
	}{}
\ifthenelse{\equal{\showsectioncaptiontab}{ssssec}}{
		\addtocounter{templateTables}{\value{table}}
		\setcounter{table}{0}
	}{}
}{}{}
\newcommand{\sectionanum}[1]{
	\emptyvarerr{\sectionanum}{#1}{Titulo no definido}
	\phantomsection
	\needspace{3\baselineskip}
	\section*{#1}
	\addcontentsline{toc}{section}{#1}
	\ifthenelse{\equal{\anumsecaddtocounter}{true}}{\stepcounter{section}}{}
	\changeheadertitle{#1}
	\setcounter{subsection}{0}
	\renewcommand{\thesubsection}{\arabic{subsection}}
	\def\GLOBALsectionanumenabled{true}
}
\newcommand{\sectionanumnoi}[1]{
	\emptyvarerr{\sectionanumnoi}{#1}{Titulo no definido}
	\phantomsection
	\needspace{3\baselineskip}
	\section*{#1}
	\ifthenelse{\equal{\anumsecaddtocounter}{true}}{\stepcounter{section}}{}
	\changeheadertitle{#1}
	\setcounter{subsection}{0}
	\renewcommand{\thesubsection}{\arabic{subsection}}
	\def\GLOBALsectionanumenabled{true}
}
\newcommand{\sectionanumheadless}[1]{
	\emptyvarerr{\sectionanumnoheadless}{#1}{Titulo no definido}
	\section*{#1}
	\addcontentsline{toc}{section}{#1}
	\ifthenelse{\equal{\anumsecaddtocounter}{true}}{\stepcounter{section}}{}
	\setcounter{subsection}{0}
	\renewcommand{\thesubsection}{\arabic{subsection}}
	\def\GLOBALsectionanumenabled{true}
}
\newcommand{\sectionanumnoiheadless}[1]{
	\emptyvarerr{\sectionanumnoiheadless}{#1}{Titulo no definido}
	\section*{#1}
	\ifthenelse{\equal{\anumsecaddtocounter}{true}}{\stepcounter{section}}{}
	\setcounter{subsection}{0}
	\renewcommand{\thesubsection}{\arabic{subsection}}
	\def\GLOBALsectionanumenabled{true}
}
\newcommand{\subsectionanum}[1]{
	\emptyvarerr{\subsectionanum}{#1}{Subtitulo no definido}
	\subsection*{#1}
	\addcontentsline{toc}{subsection}{#1}
	\ifthenelse{\equal{\anumsecaddtocounter}{true}}{\stepcounter{subsection}}{}
	\setcounter{subsubsection}{0}
	\renewcommand{\thesubsubsection}{\arabic{subsubsection}}
	\def\GLOBALsubsectionanumenabled{true}
}
\newcommand{\subsectionanumnoi}[1]{
	\emptyvarerr{\subsectionanumnoi}{#1}{Subtitulo no definido}
	\subsection*{#1}
	\ifthenelse{\equal{\anumsecaddtocounter}{true}}{\stepcounter{subsection}}{}
	\setcounter{subsubsection}{0}
	\renewcommand{\thesubsubsection}{\arabic{subsubsection}}
	\def\GLOBALsubsectionanumenabled{true}
}
\newcommand{\subsubsectionanum}[1]{
	\emptyvarerr{\subsubsectionanum}{#1}{Sub-subtitulo no definido}
	\subsubsection*{#1}
	\addcontentsline{toc}{subsubsection}{#1}
	\ifthenelse{\equal{\anumsecaddtocounter}{true}}{\stepcounter{subsubsection}}{}
	\setcounter{subsubsubsection}{0}
	\ifthenelse{\equal{\showdotaftersnum}{true}}{
		\renewcommand{\thesubsubsubsection}{\arabic{subsubsubsection}.}
	}{
		\renewcommand{\thesubsubsubsection}{\arabic{subsubsubsection}}
	}
}
\newcommand{\subsubsectionanumnoi}[1]{
	\emptyvarerr{\subsubsectionanumnoi}{#1}{Sub-subtitulo no definido}
	\subsubsection*{#1}
	\ifthenelse{\equal{\anumsecaddtocounter}{true}}{\stepcounter{subsubsection}}{}
	\setcounter{subsubsubsection}{0}
	\ifthenelse{\equal{\showdotaftersnum}{true}}{
		\renewcommand{\thesubsubsubsection}{\arabic{subsubsubsection}.}
	}{
		\renewcommand{\thesubsubsubsection}{\arabic{subsubsubsection}}
	}
}
\newcommand{\subsubsubsectionanum}[1]{
	\emptyvarerr{\subsubsubsectionanum}{#1}{Sub-sub-subtitulo no definido}
	\subsubsubsection*{#1}
	\addcontentsline{toc}{subsubsubsection}{#1}
	\ifthenelse{\equal{\anumsecaddtocounter}{true}}{\stepcounter{subsubsubsection}}{}
}
\newcommand{\subsubsubsectionanumnoi}[1]{
	\emptyvarerr{\subsubsubsectionanumnoi}{#1}{Sub-sub-subtitulo no definido}
	\subsubsection*{#1}
	\ifthenelse{\equal{\anumsecaddtocounter}{true}}{\stepcounter{subsubsubsection}}{}
}
\newcommand{\changeheadertitle}[1]{
	\emptyvarerr{\changeheadertitle}{#1}{Titulo no definido}
	\markboth{#1}{}
}
\newcommand{\clearheadertitle}{
	\markboth{}{}
}
\newcommand{\insertindextitle}[2][]{
	\emptyvarerr{\insertindextitle}{#2}{Titulo no definido}
	\ifx\hfuzz#1\hfuzz
		\addtocontents{toc}{\protect\addvspace{\indextitlemargin pt}}
	\else
		\addtocontents{toc}{\protect\addvspace{#1 pt}}
	\fi
	\addtocontents{toc}{\noindent\hyperref[swpn]{\textbf{#2}}}
}
\newcommand{\insertindextitlepage}[2][]{
	\emptyvarerr{\insertindextitlepage}{#2}{Titulo no definido}
	\ifx\hfuzz#1\hfuzz
		\addtocontents{toc}{\protect\addvspace{\indextitlemargin pt}}
	\else
		\addtocontents{toc}{\protect\addvspace{#1 pt}}
	\fi
	\addcontentsline{toc}{section}{#2}
}
\newcommand{\createhiddensection}[2][]{
	\changeheadertitle{#2}
	\insertindextitlepage[#1]{#2}
}
\newcommand{\newchapter}[1]{
	\emptyvarerr{\newchapter}{#1}{Titulo no definido}
	\newpage
	\stepcounter{section}
	\phantomsection
	\needspace{3\baselineskip}
	\vspace* {3cm}
	\noindent {\huge{\textbf{\nomchapter\ \thesection}}} \\
	\vspace* {0.5cm} \\
	\noindent {\Huge{\textbf{#1}}} \\
	\vspace {0.5cm} \\
	\addcontentsline{toc}{section}{\protect\numberline{\thesection}#1}
	\markboth{#1}{}
}
